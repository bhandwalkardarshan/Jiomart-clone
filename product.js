let arr=[
    {
    id: 1,
    img: "https://www.jiomart.com/images/product/600x600/590000264/carrot-red-per-kg-product-images-o590000264-p590000264-0-202203151749.jpg",
    name: "Carrot Red per kg",
    category: "Fruit",
    cutoffprice: "36.00",
    price: "45.00",
    },
    {
    id: 2,
    img: "https://www.jiomart.com/images/product/600x600/590000469/aloe-vera-1-kg-product-images-o590000469-p590309514-0-202207291755.jpg",
    name: "Aloe Vera 1 Kg",
    category: "Fruit",
    cutoffprice: "99.00",
    price: "115.00",
    },
    {
    id: 3,
    img: "https://www.jiomart.com/images/product/420x420/599990419/persimmon-premium-indian-1-pc-approx-175-g-225-g-product-images-o599990419-p593160822-0-202209211959.jpg",
    name: "Persimmon Premium Indian 1 Pc (Approx 150 g - 200 g)",
    category: "Vegetable",
    cutoffprice: "129.00",
    price: "139.00",
    },
    {
    id: 4,
    img: "https://www.jiomart.com/images/product/600x600/590000723/dill-leaves-1-bunch-approx-100-g-250-g-product-images-o590000723-p590000723-0-202203151011.jpg",
    name: "Dill Leaves 1 Bunch (Approx 100 g- 250 g)",
    category: "Vegetable",
    cutoffprice: "20.00",
    price: "25.00",
    },
    {
    id: 5,
    img: "https://www.jiomart.com/images/product/600x600/590001814/strawberry-pack-approx-170-g-250-g-product-images-o590001814-p590116964-0-202203170741.jpg",
    name: "Strawberry (Pack) (Approx 170 g - 250 g)",
    category: "Fruit",
    cutoffprice: "59.00",
    price: "69.00",
    },
    {
    id: 6,
    img: "https://www.jiomart.com/images/product/600x600/590003551/tinda-500-g-product-images-o590003551-p590144489-0-202203171014.jpg",
    name: "Tinda 250 g",
    category: "Vegetable",
    cutoffprice: "29.00",
    price: "35.00",
    },
    {
    id: 7,
    img: "https://www.jiomart.com/images/product/600x600/590003581/broccoli-each-approx-400-g-600-g-product-images-o590003581-p590113044-0-202203150433.jpg",
    name: "Broccoli (Each) (Approx. 200 g - 400 g)",
    category: "Vegetable",
    cutoffprice: "59.00",
    price: "69.00",
    },
    {
    id: 8,
    img: "https://www.jiomart.com/images/product/600x600/590004501/anjeer-pack-approx-300-g-400-g-product-images-o590004501-p590144488-0-202203170844.jpg",
    name: "Anjeer (Pack) (Approx 300 g - 400 g)",
    category: "Fruit",
    cutoffprice: "49.00",
    price: "59.00",
    },
    {
    id: 9,
    img: "https://www.jiomart.com/images/product/600x600/590008009/microgreen-peas-shoot-50-g-product-images-o590008009-p590008009-0-202203150527.jpg",
    name: "Microgreen Peas Shoot 50 g",
    category: "Vegetable",
    cutoffprice: "125.00",
    price: "139.00",
    },
    {
    id: 10,
    img: "https://www.jiomart.com/images/product/600x600/590008020/potted-herbs-thyme-each-product-images-o590008020-p590362836-0-202203151048.jpg",
    name: "Potted Herbs Thyme Each",
    category: "Herbs",
    cutoffprice: "335.00",
    price: "380.00",
    },
    {
    id: 11,
    img: "https://www.jiomart.com/images/product/420x420/599991400/apple-jazz-premium-imported-4-pc-approx-740-g-860-g-product-images-o599991400-p591778599-0-202207282047.jpg",
    name: "Apple Jazz Premium Imported 4 Pc (Approx 600 g - 720 g)",
    category: "Fruit",
    cutoffprice: "349.00",
    price: "379.00",
    },
    {
    id: 12,
    img: "https://www.jiomart.com/images/product/420x420/599991062/custard-apple-golden-premium-indian-1-pc-approx-300-g-400-g-product-images-o599991062-p593160824-0-202209271839.jpg",
    name: "Custard Apple Golden Premium Indian 1 Pc (Approx 300 g - 400 g)",
    category: "Fruit",
    cutoffprice: "79.00",
    price: "119.00",
    },
    {
    id: 13,
    img: "https://www.jiomart.com/images/product/600x600/590008021/potted-herbs-oregano-each-product-images-o590008021-p590362832-0-202203151520.jpg",
    name: "Potted Herbs Oregano Each",
    category: "Herbs",
    cutoffprice: "335.00",
    price: "380.00",
    },
    {
    id: 14,
    img: "https://www.jiomart.com/images/product/600x600/590008022/potted-herbs-parsley-curled-flat-each-product-images-o590008022-p590362833-0-202203151013.jpg",
    name: "Potted Herbs Parsley Curled/Flat Each",
    category: "Herbs",
    cutoffprice: "335.00",
    price: "380.00",
    },
    {
    id: 15,
    img: "https://www.jiomart.com/images/product/600x600/590008024/potted-herbs-celery-each-product-images-o590008024-p590362831-0-202203170742.jpg",
    name: "Potted Herbs Celery Each",
    category: "Herbs",
    cutoffprice: "335.00",
    price: "380.00",
    },
    {
    id: 16,
    img: "https://www.jiomart.com/images/product/600x600/590008025/potted-herbs-assorted-mint-each-product-images-o590008025-p590362830-0-202203170833.jpg",
    name: "Potted Herbs Assorted Mint Each",
    category: "Herbs",
    cutoffprice: "335.00",
    price: "380.00",
    },
    {
    id: 17,
    img: "https://www.jiomart.com/images/product/420x420/599990932/blueberry-premium-imported-pack-125-g-product-images-o599990932-p590860270-0-202207282047.jpg",
    name: "Blueberry Premium Imported Pack 125 g",
    category: "Fruit",
    cutoffprice: "229.00",
    price: "250.00",
    },
    {
    id: 17,
    img: "https://www.jiomart.com/images/product/600x600/590003515/onion-1-kg-product-images-o590003515-p590003515-0-202203170724.jpg",
    name: "Onion 1 kg",
    category: "Vegetable",
    cutoffprice: "22.00",
    price: "26.00",
    },
    {
    id: 18,
    img: "https://www.jiomart.com/images/product/600x600/590003564/tender-coconut-cling-wrapped-1-pc-approx-900-g-1300-g-product-images-o590003564-p590003564-0-202203151146.jpg",
    name: "Tender Coconut Cling Wrapped (1 pc) (Approx 900 g - 1300 g)",
    category: "Fruit",
    cutoffprice: "45.00",
    price: "50.00",
    },
    {
    id: 19,
    img: "https://www.jiomart.com/images/product/600x600/490001992/brooke-bond-red-label-strong-blend-tea-1-kg-product-images-o490001992-p490001992-0-202208101817.jpg",
    name: "Brooke Bond Red Label Strong Blend Tea 1 kg",
    category: "Grocery",
    cutoffprice: "410.00",
    price: "450.00",
    },
    {
    id: 20,
    img: "https://www.jiomart.com/images/product/600x600/490001341/tata-gold-leaf-tea-500-g-product-images-o490001341-p490001341-0-202203170442.jpg",
    name: "Tata Gold Leaf Tea 500 g",
    category: "Grocery",
    cutoffprice: "243.00",
    price: "280.00",
    },
    {
    id: 21,
    img: "https://www.jiomart.com/images/product/600x600/490004180/tata-tea-premium-anokha-swad-chai-1-kg-product-images-o490004180-p490004180-0-202203171009.jpg",
    name: "Tata Tea Premium Anokha Swad Chai 1 kg",
    category: "Grocery",
    cutoffprice: "355.00",
    price: "450.00",
    },
    {
    id: 22,
    img: "https://www.jiomart.com/images/product/600x600/491696496/cadbury-oreo-original-chocolatey-sandwich-biscuits-jumbo-pack-500-g-product-images-o491696496-p590110608-0-202203170406.jpg",
    name: "Cadbury Oreo Original Chocolatey Sandwich Biscuits Jumbo Pack 500 g",
    category: "Grocery",
    cutoffprice: "99.00",
    price: "110.00",
    },
    {
    id: 23,
    img: "https://www.jiomart.com/images/product/600x600/490896732/vim-lemon-dishwash-liquid-750-ml-product-images-o490896732-p490896732-0-202203170912.jpg",
    name: "Vim Lemon Dishwash Liquid 750 ml",
    category: "Homecare",
    cutoffprice: "158.00",
    price: "180.00",
    },
    {
    id: 24,
    img: "https://www.jiomart.com/images/product/600x600/490415502/comfort-after-wash-morning-fresh-fabric-conditioner-860-ml-product-images-o490415502-p490415502-0-202203150550.jpg",
    name: "Comfort After Wash Morning Fresh Fabric Conditioner 860 ml",
    category: "Homecare",
    cutoffprice: "211.00",
    price: "230.00",
    },
    {
    id: 25,
    img: "https://www.jiomart.com/images/product/600x600/491436153/surf-excel-matic-top-load-liquid-detergent-2-l-product-images-o491436153-p491436153-0-202203170632.jpg",
    name: "Surf Excel Matic Top Load Liquid Detergent 2 L",
    category: "Homecare",
    cutoffprice: "332.00",
    price: "350.00",
    },
    {
    id: 26,
    img: "https://www.jiomart.com/images/product/420x420/599990932/blueberry-premium-imported-pack-125-g-product-images-o599990932-p590860270-0-202207282047.jpg",
    name: "Blueberry Premium Imported Pack 125 g",
    category: "Fruit",
    cutoffprice: "229.00",
    price: "250.00",
    },
    {
    id: 27,
    img: "https://www.jiomart.com/images/product/600x600/491252835/tide-jasmine-rose-detergent-powder-5-kg-get-extra-1-kg-free-product-images-o491252835-p590838653-0-202203151949.jpg",
    name: "Tide Jasmine & Rose Detergent Powder 5 kg (Get Extra 1 kg Free)",
    category: "Homecare",
    cutoffprice: "659.00",
    price: "700.00",
    },
    {
    id: 28,
    img: "https://www.jiomart.com/images/product/600x600/rvrmta6oci/harpic-bleach-white-shine-original-750ml-product-images-orvrmta6oci-p591882690-0-202206030842.jpg",
    name: "Harpic Bleach White & Shine Original 750ml",
    category: "Homecare",
    cutoffprice: "395.00",
    price: "450.00",
    },
    {
    id: 29,
    img: "https://www.jiomart.com/images/product/600x600/491409955/kellogg-s-fruit-nut-crunchy-muesli-750-g-product-images-o491409955-p491409955-0-202203152122.jpg",
    name: "Kellogg's Fruit & Nut Crunchy Muesli 750 g",
    category: "Grocery",
    cutoffprice: "359.00",
    price: "400.00",
    },
    {
    id: 30,
    img: "https://www.jiomart.com/images/product/600x600/490012719/gemini-refined-sunflower-oil-1-l-product-images-o490012719-p490012719-0-202203151822.jpg",
    name: "Gemini Refined Sunflower Oil 1 L",
    category: "Homecare",
    cutoffprice: "169.00",
    price: "179.00",
    },
    {
    id: 31,
    img: "https://www.jiomart.com/images/product/420x420/491959313/samsung-225-litres-4-star-single-door-refrigerator-paradise-purple-rr23a2f3x9r-hl-digital-o491959313-p590442008-0-202109292055.jpeg",
    name: "Samsung 225 L 4 Star Inverter Direct Cool Single Door Refrigerator",
    category: "Electronics",
    cutoffprice: "21490.00",
    price: "23500.00",
    },
    {
    id: 32,
    img: "https://www.jiomart.com/images/product/420x420/491166983/bajaj-15-litres-storage-water-heater-new-shakti-digital-o491166983-p590040540-0-202009260755.png",
    name: "Bajaj 15 litres Storage Water Heater with Glass Lined Coating, New Shakti",
    category: "Electronics",
    cutoffprice: "7490.00",
    price: "8500.00",
    },
    {
    id: 33,
    img: "https://www.jiomart.com/images/product/420x420/492664303/prestige-pdi-07-1000-watts-magic-dry-iron-blue-digital-o492664303-p590996588-0-202201112232.jpeg",
    name: "Prestige PDI 07 1000 Watts Magic Dry Iron, Blue",
    category: "Electronics",
    cutoffprice: "490.00",
    price: "550.00",
    },
    {
    id: 34,
    img: "https://www.jiomart.com/images/product/420x420/491296776/eureka-forbes-super-clean-handheld-800watts-portable-vacuum-cleaner-with-7-attachments-red-digital-o491296776-p590040242-0-202111252209.jpeg",
    name: "Eureka Forbes Super Clean Handheld 800watts portable Vacuum Cleaner with 7 attachments (red)",
    category: "Electronics",
    cutoffprice: "3099.00",
    price: "4500.00",
    },
    {
    id: 35,
    img: "https://www.jiomart.com/images/product/420x420/492911099/samsung-6-5-kg-top-load-fully-automatic-washing-machine-wa65a4002vs-tl-imperial-silver-digital-o492911099-p592147919-0-202206221218.jpeg",
    name: "Samsung 6.5 Kg Top Load Fully Automatic Washing Machine, WA65A4002VS/TL, Imperial Silver",
    category: "Electronics",
    cutoffprice: "14290.00",
    price: "15000.00",
    },
    ];
    
    function appendData(data) {
        document.getElementById("contain").innerHTML = null;
        data.forEach((el, index) => {
          let box = document.createElement("div");
          box.setAttribute("class","child");
          box.style.border = "1px solid gray";
          box.style.borderRadius = "5px"
          box.style.padding = "10px";
          
          let img = document.createElement("img");
          img.setAttribute("src", el.img);
          
          let id = document.createElement("p");
          id.innerText = el.id;
          let name = document.createElement("p");
          name.innerText = el.name;
          // price div here
          let priceDiv = document.createElement("div");
          priceDiv.style.display = "flex";
          let price = document.createElement("p");
          price.innerText = "₹" + el.price;
          price.style.textDecoration = "line-through"
          let cutoffprice = document.createElement("p");
          cutoffprice.innerText = "M.R.P : ₹" + el.cutoffprice;
          cutoffprice.style.marginRight = "7px";
          let btn = document.createElement("button");
          btn.innerText = "Add to Cart";
          btn.addEventListener("click",()=>{
          let cartData = JSON.parse(localStorage.getItem("cart"));
          if(cartData==null) cartData=[];
    
          isAlreadyPresent = false;
          for(let i=0;i<cartData.length;i++){
            if(cartData[i].id == el.id){
              isAlreadyPresent = true;
              break;
            }
          }
          if(isAlreadyPresent == true){
            alert("Product Already in Cart");
          }
          else {
            cartData.push({...el,quantity:1});
            localStorage.setItem("cartItems",JSON.stringify(cartData));
            alert("Product added to cart");
          }
        })
          // append to price div
          priceDiv.append(cutoffprice, price);
          
          // append to box
          box.append(img, name, priceDiv, btn);
          // append to parent
          document.getElementById("contain").append(box);
        });
      }
    
    appendData(arr);
    
    // sorting
    document.getElementById("priceSort").addEventListener("change",(e)=>{
        let type = e.target.value;
        if(type == "h2l"){
            let newData = arr.sort((a,b) => +b.price - +a.price)
            appendData(newData)
        }
        else  if(type == "l2h"){
            let newData = arr.sort((a,b) => +a.price - +b.price)
            appendData(newData)
        }
    });
    //filter by category
    document.getElementById("categoryFilter").addEventListener("change",(e)=>{
        let category = e.target.value;
        let newData = arr.filter((element,index)=>{
            return category == element.category;
        })
        appendData(newData);
    });
    //searching
    // document.getElementById("searchbar").addEventListener("input",(e)=>{
    //     let category = e.target.value;
    //     let newData = arr.filter((element,index)=>{
    //         return element.name.toLowerCase().includes(input);
    //     })
    //     appendData(newData);
    // });
    
